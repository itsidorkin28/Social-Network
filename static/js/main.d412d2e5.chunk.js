(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{106:function(e,t,s){e.exports={message:"Message_message__27Afv"}},108:function(e,t,s){e.exports={userDescription:"UserDescription_userDescription__37qmJ"}},109:function(e,t,s){e.exports={post:"Post_post__1jere"}},157:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),i=(s(92),s(86)),r=s(13),o=s(15),c=s(210),l={posts:[{id:Object(c.a)(),post:"Hello!",likesCount:3},{id:Object(c.a)(),post:"JS!",likesCount:9}],postText:"",profile:{aboutMe:"\u044f \u043a\u0440\u0443\u0442\u043e \u0447\u0443\u0432\u0430\u043a 1001%",contacts:{facebook:"facebook.com",website:"ffds",vk:"vk.com/dimych",twitter:"https://twitter.com/@sdf",instagram:"instagra.com/sds",youtube:"fdsfds",github:"github.com",mainLink:"fdsfds"},lookingForAJob:!0,lookingForAJobDescription:"\u043d\u0435 \u0438\u0449\u0443, \u0430 \u0434\u0443\u0440\u0430\u0447\u0443\u0441\u044c",fullName:"samurai dimych",userId:2,photos:{small:"https://social-network.samuraijs.com/activecontent/images/users/2/user-small.jpg?v=0",large:"https://social-network.samuraijs.com/activecontent/images/users/2/user.jpg?v=0"}}},u=function(e){return{type:"ADD-POST",postText:e}},j=function(e){return{type:"CHANGE-POST-TEXT",postText:e}},d={dialogs:[{id:Object(c.a)(),name:"Alexander"},{id:Object(c.a)(),name:"Alena"}],messages:[{id:Object(c.a)(),message:"Hello!"},{id:Object(c.a)(),message:"How are you?"}],messageText:""},p={usersList:[],pageSize:6,totalUsersCount:0,currentPage:1,isFetching:!1},g=Object(i.a)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var s={id:Object(c.a)(),post:t.postText,likesCount:0};return Object(o.a)(Object(o.a)({},e),{},{posts:[s].concat(Object(r.a)(e.posts)),postText:""});case"CHANGE-POST-TEXT":return Object(o.a)(Object(o.a)({},e),{},{postText:t.postText});case"SET-USER-PROFILE":return Object(o.a)(Object(o.a)({},e),{},{profile:t.profile});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var s={id:Object(c.a)(),message:t.messageText};return Object(o.a)(Object(o.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[s]),messageText:""});case"CHANGE-MESSAGE-TEXT":return Object(o.a)(Object(o.a)({},e),{},{messageText:t.messageText});default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(o.a)(Object(o.a)({},e),{},{usersList:e.usersList.map((function(e){return e.id===t.id?Object(o.a)(Object(o.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(o.a)(Object(o.a)({},e),{},{usersList:e.usersList.map((function(e){return e.id===t.id?Object(o.a)(Object(o.a)({},e),{},{followed:!1}):e}))});case"SET-USERS":return Object(o.a)(Object(o.a)({},e),{},{usersList:t.users});case"SET-CURRENT-PAGE":return Object(o.a)(Object(o.a)({},e),{},{currentPage:t.currentPage});case"SET-TOTAL-USERS-COUNT":return Object(o.a)(Object(o.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return Object(o.a)(Object(o.a)({},e),{},{isFetching:t.isFetching});default:return e}}}),b=Object(i.b)(g),f=s(30),O=s.n(f),h=s(76),m=s.n(h),x=s(55),v=s.n(x),P=s(27),T=s(2);function C(){return Object(T.jsxs)("nav",{className:v.a.navbar,children:[Object(T.jsx)("div",{children:Object(T.jsx)(P.b,{to:"/profile",activeClassName:v.a.active,children:"Profile"})}),Object(T.jsx)("div",{children:Object(T.jsx)(P.b,{to:"/dialogs",activeClassName:v.a.active,children:"Messages"})}),Object(T.jsx)("div",{children:Object(T.jsx)(P.b,{to:"/users",activeClassName:v.a.active,children:"Find Users"})})]})}var y=s(214),_=s(212),S=s(215),E=s(217),w=s(216),N=s(218),k=s(219),F=s(220);function U(){return Object(T.jsx)(w.a,{sx:{flexGrow:1,mb:2},children:Object(T.jsx)(E.a,{position:"static",children:Object(T.jsxs)(N.a,{children:[Object(T.jsx)(k.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"SOCIAL NETWORK"}),Object(T.jsx)(F.a,{color:"inherit",children:"Login"})]})})})}var I=s(17),L=s(32),A=s(70),D=s.n(A),G=s(82),M=s.n(G),R=function(e){var t="/dialogs/".concat(e.id);return Object(T.jsx)("div",{className:M.a.dialogItem,children:Object(T.jsx)(P.b,{to:t,activeClassName:M.a.active,children:e.name})})},z=s(106),H=s.n(z),J=function(e){return Object(T.jsx)("div",{className:H.a.message,children:e.message})},W=s(207),K=s(205),X=s(107),B=s.n(X),q=Object(L.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{changeMessage:function(t){var s={type:"CHANGE-MESSAGE-TEXT",messageText:t};e(s)},sendMessage:function(t){var s={type:"SEND-MESSAGE",messageText:t};e(s)}}}))((function(e){var t=e.dialogsPage.dialogs.map((function(e){return Object(T.jsx)(R,{id:e.id,name:e.name},e.id)})),s=e.dialogsPage.messages.map((function(e){return Object(T.jsx)(J,{id:e.id,message:e.message},e.id)})),n=function(){var t=e.dialogsPage.messageText.trim();t&&e.sendMessage(t)};return Object(T.jsxs)("div",{className:D.a.dialogs,children:[Object(T.jsx)("div",{className:D.a.dialogsItems,children:t}),Object(T.jsxs)("div",{className:D.a.messagesItems,children:[s,Object(T.jsxs)("div",{children:[Object(T.jsx)(w.a,{component:"form",sx:{"& .MuiTextField-root":{mb:1,width:"100%"}},noValidate:!0,autoComplete:"off",children:Object(T.jsx)(W.a,{id:"outlined-multiline-flexible",label:"Type message",multiline:!0,maxRows:4,value:e.dialogsPage.messageText,onChange:function(t){e.changeMessage(t.currentTarget.value)},onKeyPress:function(e){e.ctrlKey&&"Enter"===e.key&&n()}})}),Object(T.jsx)(K.a,{direction:"row",spacing:1,children:Object(T.jsx)(F.a,{variant:"contained",endIcon:Object(T.jsx)(B.a,{}),onClick:n,children:"Send"})})]})]})]})})),Z=s(43),Q=s(44),V=s(67),Y=s(65),$=s(53),ee=s.n($),te=s(213),se=s(84),ne=s.n(se),ae=function(e){return Object(T.jsx)("div",{children:Object(T.jsx)("div",{className:ne.a.users,children:e.usersList.map((function(t){var s;return Object(T.jsxs)("div",{className:ne.a.user,children:[Object(T.jsx)("div",{children:Object(T.jsx)(P.b,{to:"/profile/"+t.id,children:Object(T.jsx)(te.a,{alt:t.name,src:null===(s=t.photos)||void 0===s?void 0:s.small,sx:{width:100,height:100}})})}),Object(T.jsx)("div",{children:t.followed?Object(T.jsx)(F.a,{onClick:function(){return e.unfollow(t.id)},variant:"contained",color:"error",size:"small",children:"Unfollow"}):Object(T.jsx)(F.a,{onClick:function(){return e.follow(t.id)},variant:"contained",color:"success",size:"small",children:"Follow"})}),Object(T.jsx)("span",{children:t.name}),Object(T.jsx)("span",{children:t.status})]},t.id)}))})})},ie=s(209),re=s(221),oe=function(e){Object(V.a)(s,e);var t=Object(Y.a)(s);function s(){var e;Object(Z.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).setCurrentPage=function(t){e.props.setCurrentPage(t),e.props.toggleIsFetching(!0),ee.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(t,"&count=").concat(e.props.pageSize)).then((function(t){e.props.toggleIsFetching(!1),e.props.setUsers(t.data.items)}))},e}return Object(Q.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.toggleIsFetching(!0),ee.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(this.props.currentPage,"&count=").concat(this.props.pageSize)).then((function(t){e.props.toggleIsFetching(!1),e.props.setUsers(t.data.items),e.props.setTotalUsersCount(t.data.totalCount)}))}},{key:"render",value:function(){var e=this,t=Math.ceil(this.props.totalUsersCount/this.props.pageSize);return Object(T.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[Object(T.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(T.jsx)(ie.a,{count:t,color:"primary",onChange:function(t,s){return e.setCurrentPage(s)}})}),this.props.isFetching?Object(T.jsx)(re.a,{style:{marginTop:"30px",marginBottom:"20px"}}):Object(T.jsx)(ae,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,setCurrentPage:this.setCurrentPage,usersList:this.props.usersList,follow:this.props.follow,unfollow:this.props.unfollow})]})}}]),s}(a.a.Component),ce=Object(L.b)((function(e){return{usersList:e.usersPage.usersList,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching}}),{follow:function(e){return{type:"FOLLOW",id:e}},unfollow:function(e){return{type:"UNFOLLOW",id:e}},setUsers:function(e){return{type:"SET-USERS",users:e}},setCurrentPage:function(e){return{type:"SET-CURRENT-PAGE",currentPage:e}},setTotalUsersCount:function(e){return{type:"SET-TOTAL-USERS-COUNT",totalUsersCount:e}},toggleIsFetching:function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}}})(oe),le=s(64),ue=s.n(le),je=s(108),de=s.n(je);var pe=function(e){var t;return Object(T.jsxs)("div",{className:de.a.userDescription,children:[Object(T.jsx)("h3",{children:e.profile.fullName}),Object(T.jsx)(te.a,{alt:e.profile.fullName,src:null===(t=e.profile.photos)||void 0===t?void 0:t.large,sx:{width:150,height:150},style:{marginBottom:"15px"}}),Object(T.jsx)("span",{children:e.profile.aboutMe})]})},ge=s(109),be=s.n(ge);var fe=function(e){return Object(T.jsxs)("div",{className:be.a.post,children:[Object(T.jsx)(te.a,{src:"",sx:{width:50,height:50}}),Object(T.jsx)("span",{children:e.post}),Object(T.jsxs)("span",{children:["Likes: ",e.likesCount]})]})},Oe=s(85),he=s.n(Oe),me=s(222),xe=s(206),ve=Object(L.b)((function(e){return{profilePage:e.profilePage}}),{changePost:j,addPost:u})((function(e){var t=e.profilePage.posts.map((function(e){return Object(T.jsx)(fe,{id:e.id,post:e.post,likesCount:e.likesCount},e.id)})),s=function(){var t=e.profilePage.postText.trim();t&&e.addPost(t)};return Object(T.jsxs)("div",{className:he.a.myPosts,children:[Object(T.jsx)("h3",{children:"All posts"}),Object(T.jsxs)("div",{className:he.a.postForm,children:[Object(T.jsx)(W.a,{id:"outlined-multiline-flexible",label:"What's new?",multiline:!0,maxRows:4,value:e.profilePage.postText,onChange:function(t){e.changePost(t.currentTarget.value)},onKeyPress:function(e){e.ctrlKey&&"Enter"===e.key&&s()}}),Object(T.jsx)(me.a,{onClick:s,style:{marginLeft:"5px"},children:Object(T.jsx)(xe.a,{color:"primary"})})]}),t]})})),Pe=function(){return Object(T.jsx)("div",{style:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",color:"black",backgroundColor:"#F5F5F5",fontSize:"25px",display:"flex",alignItems:"center",justifyContent:"center"},children:"Page not found"})};function Te(e){return e.profile?Object(T.jsxs)("div",{className:ue.a.profile,children:[Object(T.jsx)(pe,{profile:e.profile}),Object(T.jsx)(ve,{})]}):Object(T.jsx)(Pe,{})}var Ce=function(e){Object(V.a)(s,e);var t=Object(Y.a)(s);function s(){return Object(Z.a)(this,s),t.apply(this,arguments)}return Object(Q.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.userId;t||(t="2"),ee.a.get("https://social-network.samuraijs.com/api/1.0/profile/".concat(t)).then((function(t){e.props.setUserProfile(t.data)}))}},{key:"render",value:function(){return Object(T.jsx)("div",{className:ue.a.profile,children:Object(T.jsx)(Te,{profile:this.props.profile})})}}]),s}(a.a.Component),ye=Object(I.e)(Ce),_e=Object(L.b)((function(e){return{posts:e.profilePage.posts,postText:e.profilePage.postText,profile:e.profilePage.profile}}),{addPost:u,changePost:j,setUserProfile:function(e){return{type:"SET-USER-PROFILE",profile:e}}})(ye),Se=function(){return Object(T.jsxs)("div",{children:[Object(T.jsx)(I.a,{path:"/profile/:userId?",render:function(){return Object(T.jsx)(_e,{})}}),Object(T.jsx)(I.a,{path:"/dialogs",render:function(){return Object(T.jsx)(q,{})}}),Object(T.jsx)(I.a,{path:"/users",render:function(){return Object(T.jsx)(ce,{})}})]})},Ee=function(){return Object(T.jsxs)("div",{className:m.a.app,children:[Object(T.jsx)(U,{}),Object(T.jsx)(S.a,{fixed:!0,maxWidth:"lg",children:Object(T.jsxs)(_.a,{container:!0,spacing:2,children:[Object(T.jsx)(_.a,{item:!0,xs:3,children:Object(T.jsx)(y.a,{style:{padding:"15px 0"},children:Object(T.jsx)(C,{})})}),Object(T.jsx)(_.a,{item:!0,xs:9,children:Object(T.jsx)(y.a,{style:{padding:"15px 15px"},children:Object(T.jsx)(Se,{})})})]})})]})},we=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,223)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),i(e),r(e)}))};O.a.render(Object(T.jsx)(P.a,{children:Object(T.jsx)(L.a,{store:b,children:Object(T.jsx)(Ee,{})})}),document.getElementById("root")),we()},55:function(e,t,s){e.exports={navbar:"Navbar_navbar__10UeP",active:"Navbar_active__21R_N"}},64:function(e,t,s){e.exports={profile:"Profile_profile__15I9R"}},70:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__2Gkkf",dialogsItems:"Dialogs_dialogsItems__2PZ9i",messagesItems:"Dialogs_messagesItems__3JX3o"}},76:function(e,t,s){},82:function(e,t,s){e.exports={dialogItem:"DialogItem_dialogItem__1nzJQ",active:"DialogItem_active__JdILs"}},84:function(e,t,s){e.exports={users:"Users_users__3CRqz",user:"Users_user__1d1r4"}},85:function(e,t,s){e.exports={myPosts:"MyPosts_myPosts__2AZpm",postForm:"MyPosts_postForm__1ywSN"}},92:function(e,t,s){}},[[157,1,2]]]);
//# sourceMappingURL=main.d412d2e5.chunk.js.map